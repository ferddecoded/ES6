<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arrow Functions</title>
</head>
<body>

<ul>
  <li data-time="5:17">Flexbox Video</li>
  <li data-time="8:22">Flexbox Video</li>
  <li data-time="3:34">Redux Video</li>
  <li data-time="5:23">Flexbox Video</li>
  <li data-time="7:12">Flexbox Video</li>
  <li data-time="7:24">Redux Video</li>
  <li data-time="6:46">Flexbox Video</li>
  <li data-time="4:45">Flexbox Video</li>
  <li data-time="4:40">Flexbox Video</li>
  <li data-time="7:58">Redux Video</li>
  <li data-time="11:51">Flexbox Video</li>
  <li data-time="9:13">Flexbox Video</li>
  <li data-time="5:50">Flexbox Video</li>
  <li data-time="5:52">Redux Video</li>
  <li data-time="5:49">Flexbox Video</li>
  <li data-time="8:57">Flexbox Video</li>
  <li data-time="11:29">Flexbox Video</li>
  <li data-time="3:07">Flexbox Video</li>
  <li data-time="5:59">Redux Video</li>
  <li data-time="3:31">Flexbox Video</li>
</ul>

<script>

  // Select all the list items on the page and convert to array

  const list = document.querySelector("ul");
  console.log(list);
  const items = [...list.querySelectorAll("[data-time]")];
  console.log(items);

  // Filter for only the elements that contain the word 'flexbox'
   const flexbox = items
      .filter((item) => {
         return item.textContent.includes("Flexbox");
      })


  // map down to a list of time strings

      .map((flex) => {
         return flex.attributes[0].nodeValue
      })

  // map to an array of seconds
      .map((seconds) => {
         const [min, sec] = seconds.split(":");
         const minuteInSec = parseInt(min);
         const second = parseInt(sec);
         const totalSecs = (minuteInSec * 60) + second;

         return totalSecs;

      })

      console.log(flexbox);




  // reduce to get total
  const reduce = flexbox.reduce((total, next) => {
     return total + next
  }, 0)

  console.log(reduce)

  // ðŸ”¥ This can also be done in a single .reduce(), but we're practicing arrow functions here, so chain them!

  const reduced = items
            .filter((item) => {
               return item.textContent.includes("Flexbox");
            })
            .map((flex) => {
               return flex.attributes[0].nodeValue
            })
            .map((seconds) => {
               const [min, sec] = seconds.split(":");
               const minuteInSec = parseInt(min);
               const second = parseInt(sec);
               const totalSecs = (minuteInSec * 60) + second;

               return totalSecs;

            })
            .reduce((total, next) => {
               return total + next
            }, 0)

   console.log(reduced)


</script>
</body>
</html>
